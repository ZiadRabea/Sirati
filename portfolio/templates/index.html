{%load static%}
<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
  <!-- Google tag (gtag.js) -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-2Z4WSW8YW"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'G-2Z4WSW8YW');
  </script>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Sirati — Create Your Portfolio in Minutes</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/7.0.1/css/all.min.css" integrity="sha512-2SwdPD6INVrV/lHTZbO2nodKhrnDdJK9/kg2XD1r9uGqPo1cUbujc+IYdlYdEErWNu69gVcYgdxlmVmzTWnetw==" crossorigin="anonymous" referrerpolicy="no-referrer" />
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&family=Playfair+Display:wght@600;700&display=swap" rel="stylesheet">
  <link rel="icon" type="image/png" href="{%static 'imgs/logo.png'%}">
  <link rel="canonical" href="https://www.sirati.space"/>
  <style>
    body { font-family: 'Inter', sans-serif; }
    .font-playfair { font-family: 'Playfair Display', serif; }

    /* Carousel Styling */
    .fade-slide {
      opacity: 0;
      transition: opacity 1.2s ease-in-out;
    }
    .fade-slide.active {
      opacity: 1;
    }

    /* Responsive images: preserve aspect ratio */
    .hero-slider { width: 100%; height: 16rem; }
    @media (min-width: 768px) { 
      .hero-slider { height: 24rem; }
    }

    .hero-slider img {
      width: 100%;
      height: 100%;
      object-fit: cover;
      object-position: center;
      display: block;
    }

    /* Steps images */
    .responsive-img {
      width: 100%;
      height: auto;
      display: block;
      object-fit: contain;
    }

    /* Currency switcher */
    .currency-btn {
      padding: .35rem .6rem;
      border-radius: .5rem;
    }
    .currency-btn.active {
      box-shadow: 0 4px 10px rgba(99,102,241,0.12);
      transform: translateY(-1px);
    }

    /* CTA button: elegant animated gradient with subtle shimmer */
    .cta-button {
      position: relative;
      overflow: hidden;
      display: inline-flex;
      align-items: center;
      justify-content: center;
      gap: .75rem;
      padding: .9rem 1.6rem;
      border-radius: 999px;
      font-weight: 600;
      letter-spacing: .01em;
      transition: transform .18s ease, box-shadow .18s ease;
      box-shadow: 0 8px 30px rgba(79,70,229,0.12);
      background: linear-gradient(90deg, #5b21b6 0%, #7c3aed 50%, #4f46e5 100%);
      color: white;
    }
    .cta-button:focus { outline: 3px solid rgba(99,102,241,0.18); outline-offset: 3px; }
    .cta-button:hover { transform: translateY(-4px) scale(1.01); box-shadow: 0 12px 40px rgba(79,70,229,0.16); }

    /* shimmer */
    .cta-button::after {
      content: "";
      position: absolute;
      top: -50%;
      left: -30%;
      width: 40%;
      height: 200%;
      transform: rotate(25deg);
      background: linear-gradient(120deg, rgba(255,255,255,0.12), rgba(255,255,255,0.06), rgba(255,255,255,0.12));
      opacity: 0;
      transition: opacity .4s ease, transform .7s ease;
      filter: blur(8px);
    }
    .cta-button:hover::after { opacity: 1; transform: translateX(18rem) rotate(25deg); transition: transform .7s ease; }

    .cta-subtext { display:block; font-size: .78rem; margin-top:.35rem; color: rgba(15,23,42,0.7); }

    /* Testimonials */
    .testimonials { --card-bg: rgba(255,255,255,0.9); }
    .testimonial-card {
      background: var(--card-bg);
      border-radius: 1rem;
      padding: 1.25rem;
      box-shadow: 0 10px 30px rgba(15,23,42,0.06);
      transition: transform .18s ease, box-shadow .18s ease;
    }
    .testimonial-card:hover { transform: translateY(-6px); box-shadow: 0 18px 40px rgba(15,23,42,0.08); }

    .avatar-circle {
      width: 48px;
      height: 48px;
      border-radius: 999px;
      display:inline-grid;
      place-items:center;
      font-weight:700;
      color: white;
    }

    /* Small testimonial slider dots */
    .testimonial-dots button { width: 10px; height: 10px; border-radius: 999px; margin: 0 .25rem; opacity: .45; }
    .testimonial-dots button.active { opacity: 1; transform: scale(1.08); }

    /* Responsive tweaks */
    @media (max-width: 767px) {
      .cta-subtext { color: rgba(17,24,39,0.65); text-align:center; }
      .hero-cta-wrap { display:flex; flex-direction:column; gap:.5rem; align-items:center; }
    }
    /* Testimonials: stack items and animate fade/slide */
    .testimonial-wrapper {
      position: relative;    /* stack children absolutely */
      min-height: 1px;       /* will be set by JS to real height */
    }

    .fade-testimonial {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      opacity: 0;
      transform: translateY(8px);
      transition: opacity .5s ease, transform .45s ease;
      pointer-events: none;   /* inactive cards not interactive */
      z-index: 1;
    }

    /* visible card */
    .fade-testimonial.active {
      opacity: 1;
      transform: translateY(0);
      pointer-events: auto;
      z-index: 2;
    }

    /* keep hidden ones out of accessibility flow */
    .fade-testimonial[aria-hidden="true"] {
      visibility: hidden;
    }
    @media (min-width: 400px) { 
      .navbtn{
        display: none;
      }
    }
  </style>
</head>

<body class="bg-white text-gray-800">

<!-- NAVBAR -->
<header class="w-full py-6 fixed top-0 left-0 bg-white backdrop-blur-lg bg-opacity-80 shadow-sm z-50">
  <div class="container mx-auto px-6 flex justify-between items-center">
    <h1 class="text-2xl font-bold text-indigo-600">Sirati</h1>

    <!-- Currency switcher + Auth CTA -->
    <div class="flex items-center gap-4">
      <div id="currency-switcher" class="flex items-center gap-2 bg-gray-100 p-1 rounded-full">
        <button id="btn-egp" class="currency-btn text-sm font-medium">EGP</button>
        <button id="btn-usd" class="currency-btn text-sm font-medium">USD</button>
      </div>

      {%if not user.is_authenticated%}
        <a href="/accounts/sign_up" class="navbtn px-6 py-2 bg-indigo-600 text-white rounded-full shadow hover:bg-indigo-700 transition">Start Free</a>
      {%elif not user.profile.website%}
        <a href="/create" class="navbtn px-6 py-2 bg-indigo-600 text-white rounded-full shadow hover:bg-indigo-700 transition">Complete Registration</a>
      {%else%}
        <a href="/{{user.profile.website.unique_name}}" class="navbtn px-6 py-2 bg-indigo-600 text-white rounded-full shadow hover:bg-indigo-700 transition">Your Portfolio</a>
      {%endif%}
    </div>
  </div>
</header>

<!-- HERO -->
<section class="pt-32 pb-28 bg-gradient-to-br from-white via-gray-50 to-indigo-50">
  <div class="container mx-auto px-6 grid md:grid-cols-2 gap-16 items-center">
    
    <!-- HERO CONTENT -->
    <div>
      <h1 class="text-5xl md:text-6xl font-playfair font-bold text-gray-900 leading-tight">
        Your portfolio is outdated.<br/>
        <span class="text-indigo-600">Sirati keeps it updated for you.</span>
      </h1>

      <p class="mt-6 text-lg text-gray-600 leading-relaxed">
        Built for developers who hate maintaining portfolios, Sirati (سيرتي) offers you a portfolio that grows with you.
        Edit live, customize, and publish with a single click.
      </p>

      <div class="mt-8 flex gap-4 items-start hero-cta-wrap">
        <!-- Animated primary CTA -->
        {% if not user.is_authenticated %}
          <a href="/accounts/sign_up" aria-label="Start now for free" class="cta-button" role="button">
            <svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true">
              <path d="M3.172 10.828a4 4 0 015.656 0L12 14l3.172-3.172a4 4 0 115.656 5.656L12 24 3.172 15.828a4 4 0 010-5.656z" transform="scale(.8) translate(-2,-4)"/>
            </svg>
            <span>Start now — for free</span>
          </a>
          <!-- Subtext -->
        {% elif not user.profile.website %}
          <a href="/create" aria-label="Complete registration" class="cta-button" role="button">Complete Registration</a>
        {% else %}
          <a href="/{{user.profile.website.unique_name}}" aria-label="Open your portfolio" class="cta-button" role="button">Your Portfolio</a>
        {% endif %}

        <!-- Secondary action -->
        <a href="#how" class="px-6 py-3 border border-gray-300 text-gray-700 text-[12px] sm:text-lg rounded-full hover:bg-gray-100 transition hidden sm:inline-flex">See How It Works</a>
      </div>
      {% if not user.is_authenticated %}
        <div class="ml-2">
            <span class="cta-subtext">No credit card required</span>
        </div>
      {%endif%}
    </div>

    <!-- HERO IMAGE SLIDER -->
    <div class="relative w-full hero-slider rounded-3xl overflow-hidden shadow-2xl hidden md:block">

      <img src="{%static 'imgs/img3.png'%}"
           class="absolute inset-0 w-full h-full fade-slide active" alt="sirati preview 1">
      <img src="{%static 'imgs/img2.png'%}"
           class="absolute inset-0 w-full h-full fade-slide" alt="sirati preview 2">
      <img src="{%static 'imgs/img1.png'%}"
           class="absolute inset-0 w-full h-full fade-slide" alt="sirati preview 3">
    </div>

  </div>
</section>

<!-- HOW IT WORKS -->
<section id="how" class="py-28 bg-white">
  <div class="container mx-auto px-6">
    <h2 class="text-4xl md:text-5xl font-playfair font-bold text-center text-gray-900 mb-16">
      How Sirati Works
    </h2>

    <div class="grid md:grid-cols-3 gap-12">

      <!-- STEP 1 -->
      <div class="bg-gray-50 rounded-3xl p-10 shadow-lg hover:shadow-xl transition text-center">
        <img src="{%static 'imgs/step1.jpg'%}"
             class="rounded-2xl mb-8 shadow-lg responsive-img" alt="step fill">
        <h3 class="text-2xl font-semibold mb-3">Fill/Upload</h3>
        <p class="text-gray-600">Enter Your Information.</p>
      </div>

      <!-- STEP 2 -->
      <div class="bg-gray-50 rounded-3xl p-10 shadow-lg hover:shadow-xl transition text-center">
        <img src="{%static 'imgs/step2.jpg'%}"
             class="rounded-2xl mb-8 shadow-lg responsive-img" alt="preview customize">
        <h3 class="text-2xl font-semibold mb-3">Preview & Customize</h3>
        <p class="text-gray-600">See your portfolio live. Add Your Skills, Projects and Work Experience.</p>
      </div>

      <!-- STEP 3 -->
      <div class="bg-gray-50 rounded-3xl p-10 shadow-lg hover:shadow-xl transition text-center">
        <img src="{%static 'imgs/step3.jpg'%}"
             class="rounded-2xl mb-8 shadow-lg responsive-img" alt="publish share">
        <h3 class="text-2xl font-semibold mb-3">Publish & Share</h3>
        <p class="text-gray-600">Choose a plan and publish your portfolio instantly.</p>
      </div>

    </div>
  </div>
</section>

<!-- FEATURES -->
<section class="py-28 bg-gray-50">
  <div class="container mx-auto px-6">
    <h2 class="text-4xl md:text-5xl font-playfair font-bold text-center text-gray-900 mb-20">
      Features Designed for You
    </h2>

    <div class="grid md:grid-cols-4 gap-12">

      <!-- FEATURE Card -->
      <div class="bg-white p-10 rounded-3xl shadow-lg hover:shadow-xl text-center transition">
        <div class="bg-indigo-100 p-5 rounded-full inline-block mb-6">
          <svg xmlns="http://www.w3.org/2000/svg" class="w-10 h-10 text-indigo-600" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path d="M12 6v6l4 2" stroke-width="2" stroke-linecap="round"/>
          </svg>
        </div>
        <h3 class="text-xl font-semibold mb-3">Up to Date</h3>
        <p class="text-gray-600">Your portfolio grows with you — without manual edits.</p>
      </div>

      <div class="bg-white p-10 rounded-3xl shadow-lg hover:shadow-xl text-center transition">
        <div class="bg-indigo-100 p-5 rounded-full inline-block mb-6">
          <svg xmlns="http://www.w3.org/2000/svg" class="w-10 h-10 text-indigo-600" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path d="M4 6h16M4 12h16M4 18h7" stroke-width="2" stroke-linecap="round"/>
          </svg>
        </div>
        <h3 class="text-xl font-semibold mb-3">Live Editing</h3>
        <p class="text-gray-600">Edit anything live and see changes instantly.</p>
      </div>

      <div class="bg-white p-10 rounded-3xl shadow-lg hover:shadow-xl text-center transition">
        <div class="bg-indigo-100 p-5 rounded-full inline-block mb-6">
          <i style='color: rgb(79 70 229 / var(--tw-text-opacity, 1)); font-size:30px;' class='fa-solid fa-crown'></i>
        </div>
        <h3 class="text-xl font-semibold mb-3">Premium Templates</h3>
        <p class="text-gray-600">Choose elegant, modern templates built to impress employers.</p>
      </div>

      <div class="bg-white p-10 rounded-3xl shadow-lg hover:shadow-xl text-center transition">
        <div class="bg-indigo-100 p-5 rounded-full inline-block mb-6">
          <i style='color: rgb(79 70 229 / var(--tw-text-opacity, 1)); font-size:30px;' class='fas fa-usd'></i>
        </div>
        <h3 class="text-xl font-semibold mb-3">Affordable</h3>
        <p class="text-gray-600">Flexible plans including monthly, annual, or quarterly subscriptions.</p>
      </div>

    </div>
  </div>
</section>

<!-- TESTIMONIALS (Trust signals) -->
<section id="testimonials" class="py-24 bg-white">
  <div class="container mx-auto px-6">
    <div class="max-w-3xl mx-auto text-center">
      <h2 class="text-3xl md:text-4xl font-playfair font-bold text-gray-900 mb-4">What people say</h2>
      <p class="text-gray-600 mb-10">Real stories from developers and designers using Sirati to get noticed.</p>
    </div>

    <div class="max-w-4xl mx-auto relative">
 
      <div class="grid grid-cols-1 gap-6 testimonial-wrapper">

        <figure class="testimonial-card fade-testimonial active" data-index="0" aria-hidden="false">
          <figcaption class="mt-6 flex items-center gap-3">
            <div class="avatar-circle bg-indigo-600">MW</div>
            <div>
              <div class="font-semibold">Mohammed W</div>
              <div class="text-sm text-gray-500">Software Engineer — Cairo, Egypt</div>
            </div>
          </figcaption>
          <blockquote class="text-gray-800 text-lg leading-relaxed" dir="rtl">“ممتاز جدا لكل من يبحث عن مكان لعرض مشاريعه بطريقة منظمة و سعر لا يقبل المنافسة. شكرا على المجهود الرائع!”</blockquote>
          <figcaption class="mt-6 flex items-center gap-3">
            <div class="ml-auto flex items-center gap-1 text-yellow-400">
              <i class="fa-solid fa-star"></i><i class="fa-solid fa-star"></i><i class="fa-solid fa-star"></i><i class="fa-solid fa-star"></i><i class="fa-solid fa-star"></i>
            </div>
          </figcaption>
        </figure>

        <figure class="testimonial-card fade-testimonial" data-index="1" aria-hidden="true">
          <figcaption class="mt-6 flex items-center gap-3">
            <div class="avatar-circle bg-indigo-700">AA</div>
            <div>
              <div class="font-semibold">Abdularazik A.</div>
              <div class="text-sm text-gray-500">Founder & CEO — Cairo, Egypt</div>
            </div>
          </figcaption>
          <blockquote class="text-gray-800 text-lg leading-relaxed" dir="rtl">“ممتاز جدا ما شاء الله بنشكر كل القائمين على العمل شكرا جزيلا”</blockquote>
          <figcaption class="mt-6 flex items-center gap-3">
            <div class="ml-auto flex items-center gap-1 text-yellow-400">
              <i class="fa-solid fa-star"></i><i class="fa-solid fa-star"></i><i class="fa-solid fa-star"></i><i class="fa-solid fa-star"></i><i class="fa-solid fa-star"></i>
            </div>
          </figcaption>
        </figure>

        <figure class="testimonial-card fade-testimonial" data-index="2" aria-hidden="true">
          <figcaption class="mt-6 flex items-center gap-3">
            <div class="avatar-circle bg-indigo-700">SB</div>
            <div>
              <div class="font-semibold">Soundous B.</div>
              <div class="text-sm text-gray-500">Software Engineer — Setif, Algeria</div>
            </div>
          </figcaption>
          <blockquote class="text-gray-800 text-lg leading-relaxed" dir="rtl">“التجربة كانت سلسة و سهلة بزاف — نقدر نقول 9 من 10 وأكثر!”</blockquote>
          <figcaption class="mt-6 flex items-center gap-3">
            <div class="ml-auto flex items-center gap-1 text-yellow-400">
              <i class="fa-solid fa-star"></i><i class="fa-solid fa-star"></i><i class="fa-solid fa-star"></i><i class="fa-solid fa-star"></i><i class="fa-solid fa-star-half-stroke"></i>
            </div>
          </figcaption>
        </figure>
      </div>

      <div class="mt-6 flex justify-center items-center testimonial-dots" role="tablist" aria-label="testimonial navigation">
        <button class="w-3 h-3 rounded-full bg-gray-300 mx-1 active" aria-controls="testimonial-0" aria-selected="true"></button>
        <button class="w-3 h-3 rounded-full bg-gray-300 mx-1" aria-controls="testimonial-1" aria-selected="false"></button>
        <button class="w-3 h-3 rounded-full bg-gray-300 mx-1" aria-controls="testimonial-2" aria-selected="false"></button>
      </div>

      <div class="mt-8 text-center text-gray-500 text-sm">Trusted by developers across MENA • No credit card to start</div>
    </div>
  </div>
</section>

<!-- PRICING -->
<section id="pricing" class="py-32 bg-white">
  <div class="container mx-auto px-6 text-center">
    <h2 class="text-4xl md:text-5xl font-playfair font-bold text-gray-900 mb-20">Choose Your Plan</h2>

    <div class="grid md:grid-cols-3 gap-12 max-w-6xl mx-auto">

      <!-- MONTHLY -->
      <div class="p-10 rounded-3xl shadow-xl bg-gray-50 hover:shadow-2xl transition">
        <h3 class="text-2xl font-semibold mb-4">Monthly</h3>
        <!-- note: data-egp stores the base EGP price (used for conversion) -->
        <p class="text-5xl font-bold text-indigo-600 mb-4">
          <span class="price" data-egp="50"></span>
          <br>
          <span class="text-sm text-gray-500 price-approx"></span>
        </p>
        <p class="text-gray-600 mb-8">Perfect for short-term projects</p>
        <a href="/accounts/sign_up" class="block bg-indigo-600 text-white py-4 rounded-full shadow hover:bg-indigo-700 transition cursor-pointer">
          Start for Free
        </a>
      </div>

      <!-- ANNUAL -->
      <div class="p-12 rounded-3xl shadow-2xl bg-indigo-600 text-white scale-105">
        <h3 class="text-2xl font-semibold mb-4">Annual</h3>
        <p class="text-5xl font-bold mb-4">
          <span class="price" data-egp="500"></span>
          <br>
          <span class="text-sm text-indigo-100 price-approx"></span>
        </p>
        <p class="text-indigo-100 mb-8">Best value — save 2 MONTHS compared to monthly.</p>
        <a href="/accounts/sign_up" class="block bg-white text-indigo-700 py-4 rounded-full shadow hover:bg-indigo-50 transition cursor-pointer">
          Start for Free
        </a>
      </div>

      <!-- ONE-TIME -->
      <div class="p-10 rounded-3xl shadow-xl bg-gray-50 hover:shadow-2xl transition">
        <h3 class="text-2xl font-semibold mb-4">Quarterly</h3>
        <p class="text-5xl font-bold text-indigo-600 mb-4">
          <span class="price" data-egp="150"></span>
          <br>
          <span class="text-sm text-gray-500 price-approx"></span>
        </p>
        <p class="text-gray-600 mb-8">3 months access, Maintain low price for 3 months.</p>
        <a href="/accounts/sign_up" class="block bg-indigo-600 text-white py-4 rounded-full shadow hover:bg-indigo-700 transition cursor-pointer">
          Start for Free
        </a>
      </div>

    </div>
  </div>
</section>

<!-- FOOTER -->
<footer class="py-16 bg-gray-900 text-gray-300">
  <div class="container mx-auto px-6 text-center">

    <h3 class="text-xl font-semibold text-white">Sirati</h3>
    <p class="mt-2 text-gray-400">Your portfolio should grow with you  — not hold you back.</p>

    <!-- FOOTER LINKS -->
    <div class="mt-6 flex justify-center gap-8 text-sm">
      <a href="/contact"
         class="flex items-center gap-2 text-gray-400 hover:text-white transition">
        <i class="fa-solid fa-envelope"></i>
        Contact
      </a>
      <a href="/refund-policy"
         class="flex items-center gap-2 text-gray-400 hover:text-white transition">
        <i class="fa-solid fa-receipt"></i>
          Refund Policy
      </a>
      <a href="#pricing"
         class="text-gray-400 hover:text-white transition">
        Pricing
      </a>
    </div>

    <p class="text-gray-500 mt-8">© 2025 Sirati. All rights reserved.</p>
  </div>
</footer>

<!-- CAROUSEL SCRIPT -->
<script>
  const slides = document.querySelectorAll('.fade-slide');
  let index = 0;

  setInterval(() => {
    slides[index].classList.remove('active');
    index = (index + 1) % slides.length;
    slides[index].classList.add('active');
  }, 3500);
</script>

<!-- Testimonials carousel script -->
<script>
(function() {
  const wrapper = document.querySelector('.testimonial-wrapper');
  const items = document.querySelectorAll('.fade-testimonial');
  const dots = document.querySelectorAll('.testimonial-dots button');
  if (!wrapper || items.length === 0) return;

  let tIndex = 0;

  // Ensure wrapper has the right min-height so layout doesn't collapse when
  // we absolutely-position children. Use tallest card height.
  function setWrapperHeight(){
    const maxH = Array.from(items).reduce((m, el) => Math.max(m, el.offsetHeight), 0);
    wrapper.style.minHeight = (maxH || 220) + 'px'; // fallback 220px
  }
  setWrapperHeight();
  window.addEventListener('resize', setWrapperHeight);

  const show = (i) => {
    items.forEach((it, idx) => {
      if (idx === i) {
        it.classList.add('active');
        it.setAttribute('aria-hidden', 'false');
      } else {
        it.classList.remove('active');
        it.setAttribute('aria-hidden', 'true');
      }
    });
    dots.forEach((d, idx) => {
      d.classList.toggle('active', idx === i);
      d.setAttribute('aria-selected', idx === i ? 'true' : 'false');
    });
    tIndex = i;
  };

  // initial
  show(0);

  // auto-rotate
  let timer = setInterval(() => show((tIndex + 1) % items.length), 5000);

  // dots click
  dots.forEach((d, idx) => {
    d.addEventListener('click', () => {
      clearInterval(timer);
      show(idx);
      timer = setInterval(() => show((tIndex + 1) % items.length), 5000);
    });
  });

  // make dots container keyboard-focusable and allow arrow nav
  const dotsWrap = document.querySelector('.testimonial-dots');
  if (dotsWrap) {
    dotsWrap.setAttribute('tabindex', '0');
    dotsWrap.addEventListener('keydown', (e) => {
      if (e.key === 'ArrowLeft') show((tIndex - 1 + items.length) % items.length);
      if (e.key === 'ArrowRight') show((tIndex + 1) % items.length);
    });
  }
})();
</script>


<!-- CURRENCY SWITCHER SCRIPT -->
<script>
  (function() {
    // Base conversion rate (1 USD = X EGP). Update this if you want a different rate,
    // or replace with a live fetch if needed.
    const conversionRate = 50; // 1 USD = 50 EGP (matches the approx values in the page)

    const STORAGE_KEY = 'preferredCurrency';
    const btnEgp = document.getElementById('btn-egp');
    const btnUsd = document.getElementById('btn-usd');

    function formatEGP(value) {
      // show as integer EGP, localized
      return new Intl.NumberFormat('en-EG').format(Math.round(value)) + ' EGP';
    }
    function formatUSD(value) {
      // show as currency with 2 decimals
      return new Intl.NumberFormat('en-US', { style: 'currency', currency: 'USD', minimumFractionDigits: 2 }).format(value);
    }

    function setActiveButton(currency) {
      if (currency === 'EGP') {
        btnEgp.classList.add('active', 'bg-white');
        btnEgp.classList.remove('bg-transparent');
        btnUsd.classList.remove('active', 'bg-white');
      } else {
        btnUsd.classList.add('active', 'bg-white');
        btnUsd.classList.remove('bg-transparent');
        btnEgp.classList.remove('active', 'bg-white');
      }
    }

    function updatePrices(currency) {
      document.querySelectorAll('.price').forEach(el => {
        const baseEgp = parseFloat(el.dataset.egp || '0');
        const approxEl = el.parentElement.querySelector('.price-approx');

        if (currency === 'EGP') {
          el.innerHTML = `<span>${formatEGP(baseEgp)}</span>`;
          if (approxEl) {
            const approxUsd = (baseEgp / conversionRate);
            approxEl.innerHTML = `<span>≈ ${formatUSD(approxUsd)}</span>`;
          }
        } else {
          const usd = baseEgp / conversionRate;
          el.innerHTML = `<span>${formatUSD(usd)}</span>`;
          if (approxEl) {
            approxEl.innerHTML = `<span>≈ ${Math.round(baseEgp)} EGP</span>`;
          }
        }
      });
    }

    // Initialize from localStorage or default to EGP
    const saved = localStorage.getItem(STORAGE_KEY);
    const initialCurrency = (saved === 'USD' || saved === 'EGP') ? saved : 'EGP';
    setActiveButton(initialCurrency);
    updatePrices(initialCurrency);

    // Event listeners
    btnEgp.addEventListener('click', () => {
      localStorage.setItem(STORAGE_KEY, 'EGP');
      setActiveButton('EGP');
      updatePrices('EGP');
    });
    btnUsd.addEventListener('click', () => {
      localStorage.setItem(STORAGE_KEY, 'USD');
      setActiveButton('USD');
      updatePrices('USD');
    });

    // Accessibility: keyboard toggle (left/right)
    document.getElementById('currency-switcher').addEventListener('keydown', (e) => {
      const current = localStorage.getItem(STORAGE_KEY) || 'EGP';
      if (e.key === 'ArrowRight' || e.key === 'ArrowLeft') {
        const next = current === 'EGP' ? 'USD' : 'EGP';
        localStorage.setItem(STORAGE_KEY, next);
        setActiveButton(next);
        updatePrices(next);
      }
    });
  })();
</script>
</body>
</html>
